def test(d, b):
    g = d
    return b + g


def generate_weigths(nn, a, b):
    weigths = []
    for i in range(1, len(nn)):  # для каждого слоя начиная со второго
        weigths.append([])
        for j in range(len(nn[i]) - 1):  # для каждого нейрона начиная со второго слоя кроме нейрона смещения
            # создаем вес по отношению к каждому нейрону предыдущего слоя
            weigths[i - 1].append([a(0, b) / b for k in nn[i - 1]])
    weigths[-1].append([a(0, b) / b for p in nn[-2]])  # нужно потому что в этом слое нет нейрона смещения
    return weigths


if __name__ == '__main__':
    nn = [[1, 2, 3], [1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4], [1, 2]]
    nn2 = [[1, 2, 3, 4, 5], [1, 2, 3, 4], [1, 2, 3, 4], [1, 2, 3, 4], [1, 2]]
    nn3 = [[1, 2, 3, 4, 5],
           [1, 2, 3, 4, 5, 6, 7, 8],
           [1, 2, 3, 4, 5, 6, 7, 8],
           [1, 2, 3, 4, 5, 6, 7, 8],
           [1, 2, 3, 4, 5, 6, 7, 8],
           [1, 2, 3, 4, 5, 6, 7, 8],
           [1, 2, 3]]
    assert generate_weigths(nn, test, 1) == [[[1.0, 1.0, 1.0], [1.0, 1.0, 1.0], [1.0, 1.0, 1.0]],
                                             [[1.0, 1.0, 1.0, 1.0], [1.0, 1.0, 1.0, 1.0], [1.0, 1.0, 1.0, 1.0]],
                                             [[1.0, 1.0, 1.0, 1.0], [1.0, 1.0, 1.0, 1.0], [1.0, 1.0, 1.0, 1.0]],
                                             [[1.0, 1.0, 1.0, 1.0], [1.0, 1.0, 1.0, 1.0]]]

    assert generate_weigths(nn, test, 1) == [[[1, 1, 1], [1, 1, 1], [1, 1, 1]],
                                             [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]],
                                             [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]],
                                             [[1, 1, 1, 1], [1, 1, 1, 1]]]
    assert generate_weigths(nn2, test, 1) == [[[1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1]],
                                              [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]],
                                              [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]],
                                              [[1, 1, 1, 1], [1, 1, 1, 1]]]
    assert generate_weigths(nn3, test, 1) == [
        [[1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1], [1, 1, 1, 1, 1],
         [1, 1, 1, 1, 1]],
        [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1],
         [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1]],
        [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1],
         [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1]],
        [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1],
         [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1]],
        [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1],
         [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1]],
        [[1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1]]]
